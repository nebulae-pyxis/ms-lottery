<div class="tab-content p-24" fxLayout="column" fusePerfectScrollbar>

    <form name="lotteryGeneralInfoForm" [formGroup]="lotteryGeneralInfoForm" class="w-100-p"
      fxLayout="column" class="mat-white-bg p-24 mr-24 mb-24">

      <div fxFlex="100" class="mb-12 mt-12" fxLayout.gt-xs="row" fxLayout="column" fxLayoutAlign.gt-xs="space-around start" fxLayoutAlign="center start">
        <div fxFlex.gt-xs="100" fxFlex="100" class="h2">{{'LOTTERY.DETAILS.GENERAL_INFO' | translate}}</div>
        <form fxFlex="50" fxFlex.gt-xs="50" fxLayoutAlign="end center" *ngIf="lotteryStateForm" name="lotteryStateForm" [formGroup]="lotteryStateForm">
          <mat-slide-toggle formControlName="state" color="accent" (change)="onLotteryStateChange($event)">
            <label *ngIf="lotteryStateForm.controls['state'].value">{{'LOTTERY.DETAILS.ENABLED' | translate}}</label>
            <label *ngIf="!lotteryStateForm.controls['state'].value">{{'LOTTERY.DETAILS.DISABLED' | translate}}</label>
          </mat-slide-toggle>
        </form>
      </div>

      <mat-form-field fxFlex.gt-xs="50" fxFlex="100" fxLayout="column" class="pr-8 pl-8">
        <input matInput name="name" formControlName="name" maxlength="50" placeholder="{{'LOTTERY.DETAILS.NAME' | translate}}">
        <mat-error *ngIf="lotteryGeneralInfoForm.hasError('required', ['name'])">
          {{'LOTTERY.DETAILS.LOTTERY_FIELD_REQUIRED' | translate}}
        </mat-error>
      </mat-form-field>

      <mat-form-field fxFlex.gt-xs="50" fxFlex="100" fxLayout="column" class="pr-8 pl-8">
        <input matInput name="lotteryCode" formControlName="lotteryCode" maxlength="50" (keydown.space)="$event.preventDefault()" placeholder="{{'LOTTERY.DETAILS.LOTTERY_CODE' | translate}}">
        <mat-error *ngIf="lotteryGeneralInfoForm.hasError('required', ['lotteryCode'])">
          {{'LOTTERY.DETAILS.LOTTERY_FIELD_REQUIRED' | translate}}
        </mat-error>
        <mat-error *ngIf="lotteryGeneralInfoForm.hasError('pattern', ['lotteryCode'])">
          {{'LOTTERY.LOTTERY_CODE_INVALID_INPUT' | translate}}
        </mat-error>
      </mat-form-field>

      <mat-form-field fxFlex.gt-xs="50" fxFlex="100" fxLayout="column" class="pr-8 pl-8">
        <input matInput name="vat" formControlName="vat" maxlength="15" placeholder="{{'LOTTERY.DETAILS.LOTTERY_VAT' | translate}}">
        <mat-error *ngIf="lotteryGeneralInfoForm.hasError('required', ['vat'])">
          {{'LOTTERY.DETAILS.LOTTERY_FIELD_REQUIRED' | translate}}
        </mat-error>
      </mat-form-field>

      <mat-form-field fxFlex.gt-xs="50" fxFlex="100" fxLayout="column" class="pr-8 pl-8">
        <input matInput name="contactName" formControlName="contactName" maxlength="15" placeholder="{{'LOTTERY.DETAILS.LOTTERY_CONTACT_NAME' | translate}}">
        <mat-error *ngIf="lotteryGeneralInfoForm.hasError('required', ['contactName'])">
          {{'LOTTERY.DETAILS.LOTTERY_FIELD_REQUIRED' | translate}}
        </mat-error>
      </mat-form-field>

      <mat-form-field fxFlex.gt-xs="50" fxFlex="100" fxLayout="column" class="pr-8 pl-8">
        <input matInput (keypress)="numberOnly($event)" name="contactPhone" inputmode="tel" formControlName="contactPhone" maxlength="15" placeholder="{{'LOTTERY.DETAILS.LOTTERY_CONTACT_PHONE' | translate}}">
        <mat-error *ngIf="lotteryGeneralInfoForm.hasError('required', ['contactPhone'])">
          {{'LOTTERY.DETAILS.LOTTERY_FIELD_REQUIRED' | translate}}
        </mat-error>
      </mat-form-field>

      <mat-form-field fxFlex.gt-xs="50" fxFlex="100" fxLayout="column" class="pr-8 pl-8">
        <input matInput name="address" formControlName="address" maxlength="15" placeholder="{{'LOTTERY.DETAILS.LOTTERY_ADDRESS' | translate}}">
        <mat-error *ngIf="lotteryGeneralInfoForm.hasError('required', ['address'])">
          {{'LOTTERY.DETAILS.LOTTERY_FIELD_REQUIRED' | translate}}
        </mat-error>
      </mat-form-field>


      <mat-form-field fxFlex.gt-xs="50" fxFlex="100" fxLayout="column" class="pr-8 pl-8">
        <textarea matInput matTextareaAutosize name="description" formControlName="description"
          maxlength="350" placeholder="{{'LOTTERY.DETAILS.DESCRIPTION' | translate}}"
          matAutosizeMinRows="1" matAutosizeMaxRows="5" >
        </textarea>
        <mat-error *ngIf="lotteryGeneralInfoForm.hasError('required', ['description'])">
          {{'LOTTERY.DETAILS.LOTTERY_FIELD_REQUIRED' | translate}}
        </mat-error>
      </mat-form-field>


      <div class="mt-16">
        <button mat-raised-button *ngIf="pageType === 'new'" (click)="createLottery()"
          [disabled]="lotteryGeneralInfoForm.invalid || lotteryGeneralInfoForm.pristine">
          {{'LOTTERY.CREATE' | translate}}
        </button>
        <button mat-raised-button *ngIf="pageType === 'edit'" (click)="updateLotteryGeneralInfo()"
          [disabled]="lotteryGeneralInfoForm.invalid || lotteryGeneralInfoForm.pristine">
          {{'LOTTERY.UPDATE' | translate}}
        </button>
      </div>

    </form>

</div>
